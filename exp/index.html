<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0, user-scalable=no">
    <title>讯飞输入法表情在线打包工具</title>
    <link rel="icon" href="http://www.xunfei.cn/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="http://www.xunfei.cn/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="swfupload/swfupload.js"></script>
    <script type="text/javascript" src="swfupload/swfupload.queue.js"></script>
    <script type="text/javascript" src="js/fileprogress.js"></script>
    <script type="text/javascript" src="js/handlers.js"></script>
    <script type="text/javascript">
        var expu;
        var preu;

        window.onload = function() {
            //清理图片缓存
            window.open('reset.php', '清除图片缓存', 'width=1px,height=1px,titlebar=no,status=no,location=no,directories=no,top=11110px');

            var settings = {
                flash_url: "swfupload/swfupload.swf",
                flash9_url: "swfupload/swfupload_fp9.swf",
                upload_url: "upload.php",
                //				post_params: {
                //					"PHPSESSID": "<?php echo session_id(); ?>"
                //				},
                file_size_limit: "400 KB",
                file_types: "*.png;*.gif",
                file_types_description: "选择图片",
                file_upload_limit: 72,
                file_queue_limit: 0,
                custom_settings: {
                    progressTarget: "fsUploadProgress",
                    cancelButtonId: "btnCancel"
                },
                debug: false,

                // Button settings
                button_image_url: "images/TestImageNoText_65x29.png",
                button_width: "65",
                button_height: "29",
                button_placeholder_id: "spanButtonPlaceHolder",
                button_text: '<span class="theFont">选择</span>',
                button_text_style: ".theFont { font-size: 12; }",
                button_text_left_padding: 18,
                button_text_top_padding: 5,

                // The event handler functions are defined in handlers.js
                swfupload_preload_handler: preLoad,
                swfupload_load_failed_handler: loadFailed,
                file_queued_handler: fileQueued,
                file_queue_error_handler: fileQueueError,
                file_dialog_complete_handler: fileDialogComplete,
                upload_start_handler: uploadStart,
                upload_progress_handler: uploadProgress,
                upload_error_handler: uploadError,
                upload_success_handler: uploadSuccess,
                upload_complete_handler: uploadComplete,
                queue_complete_handler: queueComplete, // Queue plugin event					
                //file_dialog_start_handler: fileDialogStart
            };

            var settings_pre = {
                flash_url: "swfupload/swfupload.swf",
                flash9_url: "swfupload/swfupload_fp9.swf",
                upload_url: "upload_pre.php",
                //				post_params: {
                //					"PHPSESSID": "<?php echo session_id(); ?>"
                //				},
                file_size_limit: "50 KB",
                file_types: "*.png",
                file_types_description: "选择图片",
                file_upload_limit: 1,
                file_queue_limit: 1,
                custom_settings: {
                    progressTarget: "fsUploadProgress_pre",
                    cancelButtonId: "btnCancel_pre"
                },
                debug: false,

                // Button settings
                button_image_url: "images/TestImageNoText_65x29.png",
                button_width: "65",
                button_height: "29",
                button_placeholder_id: "spanButtonPlaceHolder_pre",
                button_text: '<span class="theFont">选择</span>',
                button_text_style: ".theFont { font-size: 12; }",
                button_text_left_padding: 18,
                button_text_top_padding: 5,

                // The event handler functions are defined in handlers.js
                swfupload_preload_handler: preLoad,
                swfupload_load_failed_handler: loadFailed,
                file_queued_handler: fileQueued,
                file_queue_error_handler: fileQueueError,
                file_dialog_complete_handler: fileDialogComplete,
                upload_start_handler: uploadStart,
                upload_progress_handler: uploadProgress,
                upload_error_handler: uploadError,
                upload_success_handler: uploadSuccess,
                upload_complete_handler: uploadComplete,
                queue_complete_handler: queueComplete_pre, // Queue plugin event					
                //file_dialog_start_handler: fileDialogStart
            };

            expu = new SWFUpload(settings);
            preu = new SWFUpload(settings_pre);
        };

    </script>
</head>

<body>
    <div id="container">
        <div class="upload">
            <form id="uploadform" action="" method="post" enctype="multipart/form-data">
                <div class="fieldset flash" id="fsUploadProgress">
                    <span class="legend">上传表情主图</span>
                    <div id="divStatus"></div>
                </div>

                <div>
                    <span id="spanButtonPlaceHolder"></span>
                    <input id="btnCancel" type="button" value="取消上传" onclick="swfu.cancelQueue();" disabled="disabled" style="margin-left: 2px; font-size: 8pt; height: 29px;" />
                </div>

            </form>
            <br>
            <form id="uploadpreform" action="" method="post" enctype="multipart/form-data">
                <div class="fieldset flash" id="fsUploadProgress_pre">
                    <span class="legend">上传表情聊天面板图标</span>
                    <div id="divStatus_pre"></div>
                </div>

                <div>
                    <span id="spanButtonPlaceHolder_pre"></span>
                    <input id="btnCancel_pre" type="button" value="取消上传" onclick="swfu.cancelQueue();" disabled="disabled" style="margin-left: 2px; font-size: 8pt; height: 29px;" />
                </div>

            </form>

        </div>

        <div class="info">
            <form id="infoform" name="expform" method="post" action="exp.php">
                <table class="table">
                    <tr>
                        <td>类型：</td>
                        <td>
                            <label>
                                <input name="type" type="radio" value="static" checked />静态PNG</label>
                            &nbsp;&nbsp;
                            <label>
                                <input name="type" type="radio" value="dynamic" />动态GIF</label>
                        </td>
                    </tr>
                    <tr>
                        <td>名称：</td>
                        <td>
                            <input type="text" name="name" required="required" value="8个汉字以内" />
                        </td>
                    </tr>
                    <tr>
                        <td>作者：</td>
                        <td>
                            <input type="text" name="author" required="required" value="10个汉字以内" />
                        </td>
                    </tr>
                    <tr>
                        <td>版本：</td>
                        <td>
                            <input type="number" name="version" required="required" value="1.5" />
                        </td>
                    </tr>
                    <tr>
                        <td title="新的表情，这里请清空">ID：</td>
                        <td>
                            <input type="text" name="uid" value="" />
                        </td>
                    </tr>
                    <tr>
                        <td>描述：</td>
                        <td>
                            <textarea name="description" required="required" rows="3" cols="22">80个汉字以内，充分体现表情的形象特色或故事情节</textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>密码：</td>
                        <td>
                            <input type="password" name="password" required="required" value="" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <br>
                            <input class="pack" type="submit" name="button" value="打包" />
                        </td>
                    </tr>

                </table>
            </form>
        </div>

    </div>

    <div id="footer" class="footer">
        <i><span>Alpha-0.1.0</span> by godBiao</i>
    </div>

    <script>
        //网页缩放
        //s:设计分辨率
        function zoomBody(s) {
            //取得浏览器页面可视区域的高度
            var screenHeight = document.documentElement.clientHeight;
            //取得浏览器页面可视区域的宽度
            var screenWidth = document.documentElement.clientWidth;
            //竖屏或者屏幕宽度小于设计分辨率s
            if (screenHeight > screenWidth || screenWidth < s) {
                //缩放body
                document.body.style.zoom = screenWidth / s;
            }
        }
        zoomBody(1080);

    </script>
</body>

</html>
